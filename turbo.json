// https://turbo.build/repo/docs/reference/configuration
{
    "$schema": "https://turbo.build/schema.json",
    "tasks": {
        "clean": {
            // This task should ignore cache.
            "cache": false
        },
        "build": {
            "dependsOn": [
                // @prettier-ignore
                "^build",
                "clean"
            ],
            "inputs": [
                // @prettier-ignore
                "src/**",
                "package.json",
                "tsconfig.json",
                "tsconfig.tsbuildinfo"
            ],
            "outputs": [
                // @prettier-ignore
                "__dist/**",
                "tsconfig.tsbuildinfo"
            ]
        },
        "test": {
            "dependsOn": [
                // @prettier-ignore
                "build",
                "clean"
            ],
            "inputs": [
                // @prettier-ignore
                "__tests__/**",
                "package.json",
                "tsconfig.json",
                "vitest.config.ts"
            ],
            "outputs": [
                // @prettier-ignore

                // inline snapshots changes themselves. Let's treat the input as the ouput.
                "__tests__/**"
            ]
        }
    },
    "globalEnv": [],
    "globalPassThroughEnv": [
        // This value does not change the final artifact since not embedded.
        "NPM_TOKEN"
    ]
}
